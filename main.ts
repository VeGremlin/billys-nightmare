namespace SpriteKind {
    export const Eye = SpriteKind.create()
    export const Eye2 = SpriteKind.create()
    export const Door = SpriteKind.create()
    export const Brother = SpriteKind.create()
}
function Quest3 () {
    scene.setBackgroundImage(assets.image`Dinoland`)
    myEnemy2 = sprites.create(assets.image`smiledon`, SpriteKind.Enemy)
    mySprite = sprites.create(assets.image`Billy`, SpriteKind.Player)
    controller.moveSprite(mySprite)
    Eye1 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 f 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Eye2)
    mySprite.setStayInScreen(true)
    myEnemy2.setPosition(135, 15)
    mySprite.setPosition(99, 54)
    Eye1.setPosition(67, 89)
    myEnemy2.follow(mySprite)
}
sprites.onOverlap(SpriteKind.Brother, SpriteKind.Player, function (sprite, otherSprite) {
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    sprites.destroyAllSpritesOfKind(SpriteKind.Door)
    scene.setBackgroundImage(assets.image`Newspaper`)
    adventure.addToTextlog("Local Towns kid goes missing while on way home from McDonalds, Billy Wington....")
    pauseUntil(() => controller.A.isPressed())
    game.setGameOverMessage(false, "You're a part of him now.")
    game.gameOver(false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Door, function (sprite, otherSprite) {
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Brother)
    sprites.destroyAllSpritesOfKind(SpriteKind.Door)
    Quest6()
})
function Quest6 () {
    scene.setBackgroundImage(assets.image`Billy4K`)
    adventure.changeLogColors(2, 2)
    adventure.addToTextlog("You'll have to pass through these woods again...")
    pauseUntil(() => controller.A.isPressed())
    adventure.clearTextLog()
    adventure.addToTextlog("I'll be waiting for you")
    pauseUntil(() => controller.A.isPressed())
    adventure.clearTextLog()
    adventure.addToTextlog("Brother")
    pauseUntil(() => controller.A.isPressed())
    adventure.clearTextLog()
    scene.setBackgroundImage(assets.image`Good Ending`)
    adventure.changeLogColors(15, 15)
    adventure.addToTextlog("You made it home and enjoyed your McNuggets that costed you McMoney")
    pauseUntil(() => controller.A.isPressed())
    game.gameOver(true)
}
function Quest5 () {
    mySprite = sprites.create(assets.image`Billy`, SpriteKind.Player)
    mySprite.setStayInScreen(true)
    controller.moveSprite(mySprite)
    mySprite.setStayInScreen(true)
    EyeGuy = sprites.create(assets.image`EyeGuySprite`, SpriteKind.Brother)
    EyeGuy.setVelocity(-100, -100)
    EyeGuy.follow(mySprite)
    EyeGuy.setPosition(87, 27)
    EyeGuy.setStayInScreen(true)
    Door = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . e e e e e e e e e e . . . 
        . . . e e e e f f e e e e . . . 
        . . . e e f e e e e f e e . . . 
        . . . e e f e e e e f e e . . . 
        . . . e e f e e e e f e e . . . 
        . . . e e f e e e e f e e . . . 
        . . . e e f e e e e e e e . . . 
        . . . e e f e e e e e 4 e . . . 
        . . . e e e e f f e e e e . . . 
        . . . e e e e e e e e e e . . . 
        . . . e e f e e e e e e e . . . 
        . . . e e f e e e e e e e . . . 
        . . . e e f e e e e e e e . . . 
        . . . e e f e e e e e e e . . . 
        `, SpriteKind.Door)
    Door.setPosition(74, 111)
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Eye, function (sprite, otherSprite) {
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    sprites.destroyAllSpritesOfKind(SpriteKind.Eye)
    Quest3()
})
info.onScore(2, function () {
    sprites.destroyAllSpritesOfKind(SpriteKind.Player)
    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
    sprites.destroyAllSpritesOfKind(SpriteKind.Eye2)
    music.stopAllSounds()
    Quest4()
})
function Quest2 () {
    info.setScore(0)
    music.play(music.createSong(assets.song`Electric Zombiroo`), music.PlaybackMode.LoopingInBackground)
    scene.setBackgroundImage(assets.image`grave`)
    myEnemy = sprites.create(assets.image`Zombie`, SpriteKind.Enemy)
    mySprite = sprites.create(assets.image`Billy`, SpriteKind.Player)
    controller.moveSprite(mySprite)
    Eye1 = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . 1 f 1 . . . . . . . 
        . . . . . . 1 1 1 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Eye)
    mySprite.setStayInScreen(true)
    myEnemy.setPosition(124, 17)
    myEnemy.follow(mySprite)
    Eye1.setPosition(19, 101)
}
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Player, function (sprite, otherSprite) {
    info.changeLifeBy(-1)
})
function Quest4 () {
    scene.setBackgroundImage(assets.image`Eyeguy`)
    adventure.addToTextlog("You did it...")
    adventure.clearTextLog()
    pauseUntil(() => controller.A.isPressed())
    adventure.addToTextlog("Thank you..,")
    adventure.clearTextLog()
    pauseUntil(() => controller.A.isPressed())
    adventure.addToTextlog("May I have my eyes, lost soul?...")
    adventure.changeLogColors(2, 2)
    pauseUntil(() => true)
    adventure.addToTextlog("Press A to give it its eyes")
    adventure.addToTextlog("Press B to refuse")
    pauseUntil(() => controller.anyButton.isPressed())
    if (controller.A.isPressed()) {
        adventure.clearTextLog()
        adventure.addToTextlog("Thank you, I wish you safe travels...")
        pauseUntil(() => controller.A.isPressed())
        adventure.clearTextLog()
        scene.setBackgroundImage(assets.image`MoreMurders`)
        adventure.addToTextlog("A series of murders has caused mass hysteria in the little town as more citizens worry for their safety...")
        pauseUntil(() => controller.A.isPressed())
        game.gameOver(false)
    } else if (controller.B.isPressed()) {
        adventure.clearTextLog()
        adventure.addToTextlog("Oh...")
        adventure.clearTextLog()
        adventure.addToTextlog("I thought you were different.")
        adventure.clearTextLog()
        adventure.addToTextlog("Run")
        pauseUntil(() => controller.A.isPressed())
        adventure.clearTextLog()
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        Quest5()
    }
}
info.onLifeZero(function () {
    music.stopAllSounds()
    game.setGameOverMessage(false, "You were eaten")
    game.over(false)
})
function Quest1 () {
    info.setLife(1)
    adventure.addToTextlog("You're approached by something with no eyes")
    adventure.addToTextlog("I seem to have lost my eyes. Will you help me?")
    adventure.addToTextlog("Press (A) to help it")
    adventure.addToTextlog("Press (B) to ignore it")
    pauseUntil(() => controller.anyButton.isPressed())
    if (controller.A.isPressed()) {
        adventure.addToTextlog("Thank you, just be careful, If you lose your eyes then you'll probably lose more than that.")
        adventure.changeLogColors(2, 2)
        pauseUntil(() => controller.A.isPressed())
        adventure.clearTextLog()
        Quest2()
    } else if (controller.B.isPressed()) {
        adventure.addToTextlog("Oh...Well that's a shame, carry on with your night then.")
        adventure.clearTextLog()
        adventure.addToTextlog("You went home and had McDonalds for dinner")
        pauseUntil(() => controller.A.isPressed())
        adventure.clearTextLog()
        adventure.addToTextlog("You also hear something enter the house...")
        game.over(false)
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Eye2, function (sprite, otherSprite) {
    info.changeScoreBy(1)
})
let myEnemy: Sprite = null
let Door: Sprite = null
let EyeGuy: Sprite = null
let Eye1: Sprite = null
let mySprite: Sprite = null
let myEnemy2: Sprite = null
Quest1()
game.onUpdateInterval(500, function () {
    myEnemy.setVelocity(-100, -100)
})
